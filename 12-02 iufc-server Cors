cors 설정하기

아직 서비스를 배포하지 않은 로컬 개발 환경이기 때문에 
같은  port 를 프론트와 서버가 쓰게 해도 되지만 결국 배포하는 단계까지 고려하면 
다른 포트를 쓰고 cors 등등 다양한 설정을 경험하고 공부 하는것이 좋은것 같다.
나의 경우 백엔드는 5000 ,  프론트는 3000번 포트를 듣는다.
서로 포트가 다르기 때문에 백엔드 서버에서 어떤 포트를 통해서  요청을 받을지 (어디서 요청을..)
어떤 도메인에서 API에 접근할 수 있는지 제어, 제약? 을 둔다.

**cors 설정을 통해 특정 url 에서 오는 요청만 허용할 수 있다.**

**origin** :  요청이 들어왔을 때 허용할 출처를 지정한다.
  나는 **local3000**내 프론트 서버에서 오는 요청만 허용되게 설정했다.

**methods** : 허용할 HTTP 메소드를 지정.
**credentials** : true ⇒ 쿠키나 인증 헤더를 요청에 포함시키는 것을 허용.
  클라이언트와 서버 간에 세견 쿠키나 인증 정보를 주고받아야 할 경우,
  이를 허용하도록 설정해야 한다. 
  세션 정보를 주고 받을 때. ( 서버와 클리이언트 간의 세션 상태 유지하는데 필요.)
    ex) 로그인 상태 등..

**기본적인 보안 규칙으로 cors 정책에 따라, 쿠키나 인증 헤더를 다른 출처(다른 포트등..)** 
**전송할 때, 기본적으로 브라우저는 이를 차단한다.**
**이를 해결하려면 credentials 값을 true 로 설정해 주어야 한다.**
**이  설정은 쿠키나 인증 헤더를 요청에 포함시키는 것을 허용한다.**
로그인 상태유지에 필요한 값을 세션을 통해 쿠키에 저장해두고 나는 그 값에 따라서
프론트서버에서 UI 가 달라져야 하기 때문에 값을 TRUE로 설정했다.

// CORS 설정
app.use(cors({
  origin: `${FRONTURL}`, // 프론트엔드 주소 (React 개발 서버)
  methods: ['GET', 'POST','DELETE','PATCH'], // 허용할 HTTP 메서드
  credentials: true, // 쿠키 전달 허용
}))
